<!-- if you want to validate this file separately, uncomment this prolog:

<?xml version="1.0" ?>
<!DOCTYPE chapter PUBLIC "-//KDE//DTD DocBook XML V4.1-Based Variant V1.0//EN"
 "dtd/kdex.dtd">

-->

<chapter id="install">
<title
>Installationsinstruktioner</title>

<para
>Det här är de generella installationsinstruktionerna för K skrivbordsmiljö. Läs också de <filename
>README</filename
>- och <filename
>INSTALL</filename
>-filerna som finns med i paketet. Läs dem noga och försök hjälpa dig själv om något går fel. Om du behöver ytterligare assistans fundera på att gå med i &kde;:s e-postlistor (se instruktionerna på vår webbsida för att gå med i &kde;:s <ulink url="http://www.kde.org/mailinglists.html"
>e-postlistor</ulink
>) eller diskussionsgrupper.</para>

<qandaset>
<qandaentry>
<question>
<para
>Till de blivande entusiasterna</para>
</question>
<answer>
<para
>Så du har hört ryktena. Eller du har sett skärmdumparna. Och du kan inte vänta på att skaffa &kde;. Men du vet nästan ingenting om hela det här med "alternativa operativsystem". Ta det lungt! Du behöver bara läsa en del (ja, kanske en hel del), det är allt!</para>
<para
>&kde; kör inte på &Windows; 95/98/NT eller OS/2 (än). För att köra &kde;, behöver du ha ett &UNIX;-system. Se <xref linkend="platform"/> för fler detaljer.</para>
<para
>Låt oss anta att du har bestämt dig för att installera &Linux;. Du kan antingen ladda ner det från nätet, eller köpa en uppsättning &CD-ROM; som innehåller distributionen som du har valt. Du kanske finner följande resurser användbara:</para>
<itemizedlist
> <listitem
><para
><ulink url="http://www.control-escape.com/"
>Control-Escape: Alternativ programvara, &Linux; hjälp</ulink
></para
></listitem
> <listitem
><para
><ulink url="http://www.linuxdoc.org/"
>&Linux; dokumentationsprojektet</ulink
></para
></listitem
> <listitem
><para
><ulink url="http://www.mainmatter.com/"
>&Linux; vanliga frågor med svar</ulink
></para
></listitem
> <listitem
><para
><ulink url="http://www.linux.org/index.html"
>&Linux; hemsida hos &Linux; Online</ulink
></para
></listitem
> <listitem
><para
>Usenet diskussionsgrupper som comp.os.linux.*</para
></listitem
> </itemizedlist>
<para
>För att kunna köra &kde; på &Linux;, måste du installera X först. &X-Windows; är de facto det grafiska gränssnittet (&GUI;) på &UNIX;-system. Du kanske vill ta en titt på följande resurser:</para>
<itemizedlist
> <listitem
><para
><ulink url="http://www.x.org/"
>X.org</ulink
></para
></listitem
> <listitem
><para
><ulink url="http://www.xfree86.org/"
>XFree86(TM): Hemsida</ulink
></para
></listitem
> <listitem
><para
>Usenet diskussionsgrupper som comp.os.linux.x och comp.windows.x.*.</para
></listitem
> </itemizedlist>
<para
>Till slut är du klar att börja installera &kde;. Börja med att läsa från nästa avsnitt. För att skaffa &kde;, se <xref linkend="where-to-get-kde"/>. Sist men inte minst, om du stöter på några problem medan du installerar &kde;, tveka inte att dra nytta av &kde;:s <link linkend="mailing-lists"
>e-postlistor</link
> och <link linkend="newsgroups"
>diskussionsgrupper</link
>. Men kom ihåg det här: ingen fråga är för dum att ställas, men en del är för dumma för att besvaras, särskilt om de redan är besvarade i det här dokumentet.</para>
<para
>Lycka till och ha roligt!</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Tillgängliga paketformat</para>
</question>
<answer>

<para
>&kde;-gruppen tillhandahåller sex olika sorters paket: källkod och binära <acronym
>RPM</acronym
>, källkod och binära <filename
>.tgz</filename
> (<filename
>.tar.gz</filename
>) filer, och källkod och binära Debian-filer. De första som släpps är oftast källkod <filename
>.tgz</filename
>-filerna, men andra format dyker upp snart därefter. Nyligen har också källkod och binära <filename
>.tar.bz2</filename
>-filer gjorts tillgängliga. Var god se <xref linkend="bzip2"/> för mer information om hur arkiv med <filename
>.bz2</filename
>-ändelsen packas upp. Dessutom, har också <filename
>pkg</filename
>-paket för &Solaris; 2.6 och 7 dykt upp.</para
> 
<para
>Installationsprocessen beror på vilket paketformat du väljer. Efter installationen, finns det en procedur som gäller för alla paketformat. Observera att om du inte har mycket erfarenhet av &UNIX; och har ett <acronym
>RPM</acronym
>-baserat system, är det troligen bäst att välja binära <acronym
>RPM</acronym
>-paket som tillhandahålls av leverantören av din distribution. Åtminstone Caldera, Delix, och S.u.S.E. tillhandahåller binära <acronym
>RPM</acronym
>-paket via sina &FTP;-servrar.</para>
<para
>Om du behöver speciella inställningar vid konfigurering (<abbrev
>t.ex.</abbrev
> om du har skugglösenord och vill kunna använda skärmsläckarna), är det bästa att använda källkodspaketen och kompilera &kde; själv. <note
><para
><ulink url="mailto:bill.mote@bigfoot.com"
> Bill Mote</ulink
> har  publicerat en hemsida som heter "KDE 1.1 installation via RPM". Titta på den <ulink url="http://home.fuse.net/bmote/kde.htm"
>här</ulink
>.</para
></note
></para>
</answer>
</qandaentry>

<qandaentry>
<question id="prerequisites">
<para
>Förutsättningar</para>
</question>
<answer>
<para
>För &kde; 2.0, behöver du &Qt;-biblioteket version 2.2 eller senare, medan du behöver version 1.42 eller senare för &kde; 1.1, &kde; 1.1.1, och &kde; 1.1.2. Försökra dig om att du laddar hem rätt &Qt;. <caution
><para
>&kde; 1.x fungerar inte med &Qt; 2.0 eller senare.</para
></caution
> Du behöver ochså deklarationsfilerna om du vill kompilera &kde; själv. De är alla tillgängliga utan kostnad på <ulink url="http://www.trolltech.com/products/download"
>http://www.trolltech.com/download</ulink
>. Dessutom finns det valfria bibliotek som kan förbättra &kde; om de installeras på ditt system. Ett exempel är libssl som gör det möjligt för &konqueror; att läsa säkra webbsidor.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Beskrivning av de grundläggande paketen</para>
</question>
<answer>
<para
>Den grundläggande distributionen består för närvarande av elva paket. Några krävs, medan andra är valfria. Varje paket är tillgängligt i de förut nämnda paketformaten.</para>
<variablelist
> <varlistentry
> <term
>kdesupport</term
> <listitem
> <para
>Rekommenderas</para
> <para
>Det här paketet innehåller stödbibliotek som inte skrevs som en del av &kde;-projektet, men ändå behövs. Om du redan har biblioteken (libgif, libjpeg, libmime, libuu, libgdbm) som ingår i det här paketet med versioner som krävs, behöver du inte installera det. Om du inte vet, installera det. Observera att paketet krävs med Debian-paket.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdelibs</term
> <listitem
> <para
>Krävs</para
> <para
>Det här paketet innehåller delade bibliotek som behövs av alla &kde;-program.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdebase</term
> <listitem
> <para
>Krävs</para
> <para
>Det här paketet innehåller de grundläggande programmen som utgör kärnan i K skrivbordsmiljö som fönsterhanteraren, terminalemulatorn, inställningscentralen, filhanteraren och panelen.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdegames</term
> <listitem
> <para
>Valfritt</para
> <para
>Diverse spel som Mahjongg, Orm-race, Asteroider och Tetris.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdegraphics</term
> <listitem
> <para
>Valfritt</para
> <para
>Diverse grafikrelaterade program som &PostScript; förhandsgranskare, &DVI; förhandsgranskare och ett ritprogram.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdeutils</term
> <listitem
> <para
>Valfritt</para
> <para
>Diverse skrivbordsverktyg som en miniräknare, en texteditor och andra nyttiga grejor.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdemultimedia</term
> <listitem
> <para
>Valfritt</para
> <para
>Multimediaprogram som en &CD;-spelare och en mixer.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdenetwork</term
> <listitem
> <para
>Valfritt</para
> <para
>Nätverksprogram. Innehåller för närvarande e-postprogram, diskussionsgruppsläsare och flera andra nätverksrelaterade program.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdeadmin</term
> <listitem
> <para
>Valfritt</para
> <para
>Program för systemadministration.</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>kdetoys</term
> <listitem
> <para
>Valfritt</para
> <para
>Leksaker!</para
> </listitem
> </varlistentry
> <varlistentry
> <term
>&korganizer;</term
> <listitem
> <para
>Valfritt</para
> <para
>Ditt skrivbord skulle aldrig vara fullständigt utan en filofax, eller hur?</para
> </listitem
> </varlistentry
> </variablelist>
<para
>kdesupport (om det behövs) ska installeras innan allt annat. Det nästa (eller första) paketet ska vara kdelibs. De övriga paketen kan installeras i godtycklig ordning.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Installationsinstruktioner för de olika paketformaten</para>
</question>
<answer>
<para
><important
> <para
>Glöm inte läsa <filename
>README</filename
>- och <filename
>INSTALL</filename
>-filerna om de finns tillgängliga.</para
> </important
></para>
<variablelist
> <varlistentry
> <term
>Installation av Debian-paketen</term
> <listitem
> <para
>Debian-paketen installeras enligt den kommande FHS (File Hierarchy Standard).</para
> <procedure
> <step performance="required"
><para
>bli systemadministratör</para
></step
> <step performance="required"
><para
>kör <command
>dpkg <option
>-i <replaceable
>paketnamn.deb</replaceable
></option
></command
> för varje paket som du vill installera.</para
></step
> </procedure
> </listitem
> </varlistentry
> <varlistentry
> <term
>Installation av <acronym
>RPM</acronym
>-paket.</term
> <listitem
> <procedure
> <title
>Att installera binära <acronym
>RPM</acronym
>-paket</title
> <step performance="required"
><para
>bli systemadministratör</para
></step
> <step performance="required"
><para
>kör <command
>rpm <option
>-ivh <replaceable
>paketnamn.rpm</replaceable
></option
></command
></para
></step
> </procedure
> <procedure
> <title
>För att skapa och installera ett binärt <acronym
>RPM</acronym
>-paket från källkods <acronym
>RPM</acronym
>-paket</title
> <step performance="required"
><para
>bli systemadministratör</para
></step
> <step performance="required"
><para
>kör <command
>rpm <option
>-ivh <replaceable
>paketnamn.src.rpm</replaceable
></option
></command
></para
></step
> <step performance="required"
><para
><command
>cd /usr/src/redhat/SPECS</command
></para
></step
> <step performance="required"
><para
><command
>rpm <option
>-bb <replaceable
>paketnamn.spec</replaceable
></option
></command
></para
></step
> <step performance="required"
><para
><command
>cd ../RPMS/<replaceable
>i386</replaceable
></command
> (eller  den arkitektur du använder)</para
></step
> <step performance="required"
><para
><command
>rpm <option
>-ivh <replaceable
>paketnamn.i386.rpm</replaceable
></option
></command
></para
></step
> </procedure
> </listitem
> </varlistentry
> <varlistentry
> <term
>Installation av källkodsfiler <filename
>.tar.gz</filename
></term
> <listitem
> <para
>Källkods <filename
>.tgz</filename
> paket installeras till <filename class="directory"
>/usr/local/kde</filename
> som standard. Du kan överskrida den här inställningen genom att använda <option
>--prefix</option
> alternativet till <filename
>configure</filename
>-skriptet.</para
> <procedure
> <step performance="required"
><para
>Packa upp paketen med <command
>tar <option
>xvzf <replaceable
>paketnamn.tar.gz</replaceable
></option
></command
></para
></step
> <step performance="required"
><para
>ändra katalog till paketkatalogen: <command
>cd <replaceable
>paketnamn</replaceable
></command
></para
></step
> <step performance="required"
><para
>Konfigurera paketet: <command
>./configure</command
> <note
><para
>En del paket (särskilt kdebase) har speciella konfigurationsalternativ som kan gälla din installation. Skriv <command
>./configure <option
>--help</option
></command
> för att se de tillgängliga alternativen.</para
></note
></para
></step
> <step performance="required"
><para
>bygg paketet: <command
>make</command
></para
></step
> <step performance="required"
><para
>installera paketet: <command
>su <option
>-c "make install"</option
></command
> (om du inte redan är root). Om du är det, skriv då bara <command
>make <option
>install</option
></command
>.</para
></step
> </procedure
> </listitem
> </varlistentry
> <varlistentry
> <term
>Installation av binära <filename
>.tar.gz</filename
> filer</term
> <listitem
> <para
>De binära .tar.gz paketen installeras till <filename class="directory"
>/opt/kde</filename
>.</para
> <procedure
> <step performance="required"
><para
>bli systemadministratör</para
></step
> <step performance="required"
><para
><command
>cd /</command
></para
></step
> <step performance="required"
><para
><command
>tar <option
>xvzf <replaceable
>paketnamn.tar.gz</replaceable
></option
></command
></para
></step
> </procedure
> </listitem
> </varlistentry
> </variablelist>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Procedur efter installationen</para>
</question>
<answer>
<para
>Förvissa dig först om att du har lagt till &kde;:s binära installationskatalog (<abbrev
>t.ex.</abbrev
> <filename class="directory"
>/opt/kde/bin</filename
>) till din <envar
>PATH</envar
> och &kde;:s biblioteksinstalltionskatalog till din <envar
>LD_LIBRARY_PATH</envar
> (behövs bara på system som inte stöder rpath. På &Linux; &ELF;, ska det fungera utan). Den här miljövariabeln kan heta olika på olika system, <abbrev
>t.ex.</abbrev
> kallas den <envar
>SHLIB_PATH</envar
> på &IRIX;. Sätt sedan <envar
>KDEDIR</envar
> till roten på ditt &kde; träd, <abbrev
>t.ex.</abbrev
> <filename class="directory"
>/opt/kde</filename
>. <caution
> <para
>Kom ihåg att det är inte lämpligt att blint sätta <envar
>LD_LIBRARY_PATH</envar
>. För det stora flertalet fall är det onödigt och kan göra mer skada än nytta. Det finns en webbsida skriven av <ulink url="mailto:barr@cis.ohio-state.edu"
>Dave Barr</ulink
> som förklarar det onda med <envar
>LD_LIBRARY_PATH</envar
> som finns på <ulink url="http://www.cis.ohio-state.edu/~barr/ldpath.html"
>http://www.cis.ohio-state.edu/~barr/ldpath.html</ulink
>.</para
> </caution
> </para>
<para
>Även om du kan använda de flesta &kde;-program genom att helt enkelt anropa dem, kan du bara dra fullständig nytta av &kde;:s avancerade fUnktioner om du använder &kde;:s fönsterhanterare och dess hjälpprogram.</para>
<para
>För att göra det lätt för dig, tillhandahåller vi ett enkelt skript som heter <filename
>startkde</filename
> som installeras i <filename class="directory"
>$<envar
>KDEDIR</envar
>/bin</filename
> och därför finns i din sökväg.</para>
<para
>Redigera filen <filename
>.xinitrc</filename
> i din hemkatalog (gör en säkerhetskopia först!), ta bort allting som ser ut att anropa en fönsterhanterare, och stoppa in <command
>startkde</command
> instället. Starta om  &X-Windows;. Om du använder &kdm;/<application
>xdm</application
>, måste du redigera filen <filename
>.xsession</filename
> istället för <filename
>.xinitrc</filename
>. Och om det inte finns någon <filename
>.xinitrc</filename
> eller <filename
>.xsession</filename
> i din hemkatalog, skapa helt enkelt en ny med bara en rad som innehåller <command
>startkde</command
>. <note
> <para
>En del system (i synnerhet &RedHat; &Linux;) använder <filename
>.Xclients</filename
> istället.</para
> </note
></para>
<para
>Det här ska visa ett skinande nytt &kde;-skrivbord. Nu kan du börja utforska &kde;:s underbara värld. Om du vill läsa någon dokumentation först, så finns <ulink url="http://www.kde.org/documentation/quickstart/index.html"
>Kom igång snabbt</ulink
> tillgänglig som verkligen rekommenderas. Dessutom har varje program hjälp som är direkt tillgänglig via hjälpmenyn.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Mikrohandledning: Kompilera &kde; 1.1.1 på &SGI; &IRIX; 6.x</para>
</question>
<answer>
<para
><ulink url="mailto:berry@ieeecs.concordia.ca"
>Chris Berry</ulink
> skickade in följande uppdaterade mikrohandledning (redigerad för layout) till comp.windows.x.kde.</para>
<para
>Det här är en (påtaglig) modifiering av den ursprungliga mikrohandledningen som skickats in av <ulink url="mailto:sterritt@mrj.com"
>Chris Sterritt</ulink
>. Det här är giltigt för &kde;-1.1.1 som kör på en &IRIX; 6.5. Jag har inte försökt med andra plattformar. Det finns ett antal punkter med konflikter: Jag får många, många varningar om att &Qt;-definitioner blir överskrivna, om att libkdecore-definitioner blir överskrivna, <abbrev
>etc.</abbrev
> (det är så många som blir överskrivna att jag skulle ha kunnat skriva en katalog med dem), i18n grejorna fungerar inte (medan de gjorde det i v1.0) och &kikbd; kvävs i &konsole; (det fungerar bra annars). Eventuella kommentarer eller frågor kan skickas till <email
>berry@ieeecs.concordia.ca</email
>. Jag har också en kopia av den här handledningen på min personliga hemsida: <ulink url="http://alcor.concordia.ca/~c_berry/"
>http://alcor.concordia.ca/~c_berry/</ulink
>.</para>
<para
>Dessutom, om det här inte passar dig något vidare, har jag skickat binärfiler med kde-1.1.1 coh egcs-1.1.2 till <ulink url="ftp://ftp.cmc.ec.gc.ca/pub/hbc/sgi/"
>ftp://ftp.cmc.ec.gc.ca/pub/hbc/sgi/</ulink
>. &kde; har kompilerats med delade bibliotek, så om du inte har libstdc++.so.2.9.0 föreslår jag att du laddar hem egcs binärfilen också. Var god ladda också hem och <emphasis
>läs</emphasis
> README-filen i katalogen, eftersom den innehåller viktig installationsinformation.</para>
<para
>Till slut, varken jag eller Environment Canada accepterar något ansvar med avseende på nyttigheten i de här instruktionerna. De har fungerat för mig. Om de fungerar för dig är det bra, om de inte fungerar kan jag inte hjälpa dig, och det kan ingen annan på EC heller. Observera att flera saker inte fungerar som det är meningen. Om du kommer på ett sätt att komma runt de här problemen, tala om det för någon. Personligen kommer jag inte kunna prova några fixar efter 20 augusti, 1999 eftersom jag återvänder till skolan (och använder SunOS). </para>
<para
>Njut!</para>

<procedure
> <title
>Att kompilera &kde; 1.1.1 on &SGI; &IRIX; 6.x</title
> <step performance="required"
> <para
>Installera &Qt; 1.42 eller senare</para
> </step
> <step performance="required"
> <para
> Jag håller på att installera &kde; som mig själv (inte root) så jag har en <envar
>KDEDIR</envar
> miljövariabel som är satt till något annat än /usr/local/ eller vad som nu är förvalt. Därför nämner jag det nedan, men du kanske inte behöver det. Dessutom har &SGI; ett JPEG- och PNG-bibliotek, men de är för gamla eller felaktiga på annat sätt. Du måste därför spåra källkoden för libpng och libz (JPEG ingår i kdesupport). Jag hittade dem som källkod i <acronym
>RPM</acronym
>-paket på en av &RedHat; &FTP;-speglarna.</para
> </step
> <step performance="required"
> <para
> Hämta <application
>egcs</application
> 1.1.1 eller senare och kompilera det med <option
>-fsquangle</option
> stöd. Det här behövs eftersom &SGI;:s assembler inte kan hantera de jättelika objektnamnen som skapas av normala <application
>g++</application
>, och <application
>gas</application
> fungerar uppenbarligen inte än för &SGI;. Du måste bygga &gcc;:s bibliotek med den här binärkoden också. Försäkra dig om att din <envar
>PATH</envar
> har med bara den här kompilatorn (om du har en annan &gcc; installerad någonstans). När jag skriver <command
>g++ <option
>-v</option
></command
> får jag:</para
> <screen
><computeroutput
>gcc version egcs-2.91.60 19981201 (utgåva egcs-1.1.1)</computeroutput>
</screen
> </step
> <step performance="required"
> <para
> Skriv <command
>setenv <option
>LDFLAGS " "</option
></command
> eftersom konfigurationsskripten insisterar på att försöka med <command
>g++ <option
>-s</option
></command
> när ett testprogram kompileras , vilket alltid misslyckas för &SGI;.</para
> </step
> <step performance="required"
> <para
> Packa upp "kdesupport" och gå till dess katalog. Kör configure med <option
>--prefix</option
> om du behöver:</para
> <screen
>./configure --prefix=$KDEDIR --x-includes=/usr/include/X11 \
--x-libraries=/usr/lib32 --with-qt-includes=/opt/kde-1.1.1 \
--with-qt-libs=/opt/kde-1.1.1 --enable-shared
</screen
> <para
>Modifiera detta så att det motsvarar din verklighet. I mitt fall har jag &Qt; instoppat i samma katalog som &kde;, så jag måste namnge include och libs katalogerna explicit. Ibland ser configure fortfarande inte&Qt; includes-katalogen. Kör din <filename
>.login</filename
> fil för att korrigera detta (du har väl ställt in din <filename
>.login</filename
> fil som instruktionerna i &Qt;-installationen begärde?).</para
> </step
> <step performance="required"
> <para
> Kör skriptet (som jag inkluderar nedan) på följande sätt:</para
> <screen
><command
>find <option
>. -name Makefile -exec ../FixMakesSq {} \;</option
></command
></screen
> <para
>Det här rättar alla kompileringskommandon så att alla "replikerade" bibliotek (JPEG och PNG) ersätts med fullständiga sökvägar så att de inte längas med de som hör till &SGI;.</para
> <note
><para
>I originalhandledningen, lades <option
>-fsquangle</option
> till i varje makefile. Detta orsakade kompileringsfel. Jag fann att det var bara nödvändigt i en makefile. Detta nämns nedan.</para
> </note
> <para
>Här är FixMakesSq-skriptet:</para
> <programlisting
>#!/bin/perl -ni.bak
 
if ((/-lpng/) || (/-ljpeg/))
{
    if (/^(.*)-lpng(.*)$/)
    {
        $b4 = $1;
        $af = $2;
        print "$b4 /path/to/KDE/libs/libpng.a $af\n";
    }
    if (/^(.*)-ljpeg(.*)$/)
    {
        $b4 = $1;
        $af = $2;
        print "$b4 /path/to/KDE/libs/libjpeg.a $af\n";
    }
}
        
#OBSERVERA!! Ta bord kommentarer i denna del om du vill ha med
#-D_LANGUAGE_C_PLUS_PLUS i alla 
#makefiles.  Jag har inte personligen provat detta, men det ska fungera
#
# Ta alternativt med flaggorna vid platserna som noteras nedan.

#elsif (/cxxflags\s*=(.*)$/i)
#{
#    print "CXXFLAGS =  -D_LANGUAGE_C_PLUS_PLUS $1\n";
#}
else
{
    print;
}
</programlisting
> <para
> Skriv:</para
> <screen
><command
>gmake</command>
<command
>gmake <option
>install</option
></command>
</screen
> </step
> <step performance="required"
> <para
> Gå till <filename
>libz</filename
> källkodskatalogen och skriv:</para
> <screen
><command
>./configure <option
>--prefix=$KDEDIR</option
></command>
<command
>gmake</command>
<command
>gmake install</command>
</screen
> </step
> <step performance="required"
> <para
> Gå till <filename
>libpng</filename
> källkodskatalogen och skriv:</para
> <screen
><command
>./configure <option
>--prefix=$KDEDIR</option
></command>
<command
>gmake</command>
<command
>gmake <option
>install</option
></command>
</screen
> </step
> <step performance="required"
> <para
> Packa upp kdelibs och gå till dess katalog. Observera <option
>--enable-new-stuff</option
> argumentet till <command
>./configure</command
> (detta kanske inte behövs, men ingenting klagar om du använder det): </para
> <screen
><command
>./configure <option
>--prefix=$KDEDIR --x-includes=/usr/include/X11 \
--x-libraries=/usr/lib32 --with-qt-includes=/opt/kde-1.1.1 \
--with-qt-libs=/opt/kde-1.1.1 --enable-shared --enable-new-stuff</option
></command>
<command
>find <option
>. -name Makefile -exec ../FixMakesSq {} \;</option
></command>
</screen
> </step
> <step performance="required"
> <para
>Leta rätt på <filename
>kprocctrl.cpp</filename
>, och fixa  <filename
>Makefile</filename
> i den katalogen, men bara om du inte tog bort kommentarerna för delen som åstadkommer detta i FixMakesSq.skriptet, lägg till <option
>-D_LANGUAGE_C_PLUS_PLUS</option
> till CXXFLAGS raden. Det här gör att det hämtar rätt definition för signal-funktioner (som har ett argument av typen int).</para
> </step
> <step performance="required"
> <para
> Hitta <filename
>addressbook.cc</filename
>, och fixa <filename
>Makefile</filename
> i den katalogen. Lägg till <option
>-fsquangle</option
> till CXXFLAGS raden. Det här gör det möjligt att hantera det enorma namn som dyker upp.</para
> <screen
><command
>gmake</command>
<command
>gmake <option
>install</option
></command>
</screen
> </step
> <step performance="required"
> <para
> Packa upp kdebase och gå till dess katalog. Skriv:</para
> <screen
><command
>./configure <option
>--prefix=$KDEDIR  --x-includes=/usr/include/X11 \
--x-libraries=/usr/lib32 --with-qt-includes=/opt/kde-1.1.1 \
--with-qt-libs=/opt/kde-1.1.1 --enable-shared </option
></command>
<command
>find <option
>. -name Makefile -exec ../FixMakesSq {} \;</option
></command>
</screen
> </step
> <step performance="required"
> <para
> Fixa <filename
>memory_sgi.cpp</filename
> (leta med find från <filename
>kdebase</filename
> directory). Jag skrev bara #ifdef för att ta bort innehållet i hela funktionen... den kompilerar inte på min maskin och jag öppnar aldrig den delen av &kpanel; ändå :-).</para
> </step
> <step performance="required"
> <para
> Fixa <filename
>TEShell.C</filename
> (i katalogen <filename
>kdebase-1.1.1/konsole/src/</filename
>). Det är operationen som hämtar en pty för den nya &konsole;. Tyvärr, skrevs den inte med &IRIX; i åtanke, och måste ändras med programfixen som finns nedan:</para
> <programlisting
>*** TEShell.C   Mon Apr 12 00:12:37 1999
--- /users/dor/aspg/ber/data/kdedown/kdebase-1.1.1/konsole/src/TEShell.C
Wed Jul 14 15:15:35 1999
***************
*** 169,174 ****
--- 169,177 ----
    pid_t pid = waitpid(-1,&amp;status,WNOHANG);
    Shell* sh = shells.find(pid);
    if (sh) { shells.remove(pid); sh-&gt;doneShell(status); }
+ #if defined(sgi)
+   signal(SIGCHLD,catchChild);
+ #endif
  }
  
  void Shell::doneShell(int status)
***************
*** 234,239 ****
--- 237,252 ----
        }
      }
    }
+ #endif
+ 
+ #if defined(sgi) /* Irix */
+  
+   needGrantPty = FALSE;
+   char* line;
+   line = _getpty(&amp;ptyfd, O_RDWR|O_NDELAY, 0600, 0);
+   strcpy(ptynam,"/dev/ptc");
+   strcpy(ttynam,line);
+  
  #endif
  
    if (ptyfd &lt; 0) // Linux, FIXME: Trouble on other systems?
</programlisting
> <para
>Därefter: </para
> <screen
><command
>gmake</command>
<command
>gmake <option
>install</option
></command>
</screen
> </step
> <step performance="required"
> <para
> Packa upp kdeutils.</para
> <screen
><command
>./configure <option
>--prefix=$KDEDIR  --x-includes=/usr/include/X11 \
--x-libraries=/usr/lib32 --with-qt-includes=/opt/kde-1.1.1 \
--with-qt-libs=/opt/kde-1.1.1 --enable-shared </option
></command>
<command
>find <option
>. -name Makefile -exec ../FixMakesSq {} \;</option
></command>
</screen
> </step
> <step performance="required"
> <para
> Hitta <filename
>kcalc_core.cpp</filename
> och fixa dess <filename
>Makefile</filename
> som du gjorde för <filename
>kprocctrl.cpp</filename
> ovan. </para
> <screen
>gmake
gmake install
</screen
> </step
> <step performance="required"
> <para
> Packa upp kdegames, kdegraphics, och kdetoys. För vart och ett, gå till dess katalog och gör: </para
> <screen
><command
>./configure <option
>--prefix=$KDEDIR  --x-includes=/usr/include/X11 \
--x-libraries=/usr/lib32 --with-qt-includes=/opt/kde-1.1.1 \
--with-qt-libs=/opt/kde-1.1.1 --enable-shared</option
></command>
<command
>find <option
>. -name Makefile -exec ../FixMakesSq {}</option
></command>
<command
>gmake</command>
<command
>gmake <option
>install</option
></command>
</screen
> </step
> <step performance="required"
> <para
> Det här steget är valfritt för &kde;-1.1. Jag tror inte att det behövs för for &kde;-1.1.1. &knotes; har aldrig kraschat för mig. Jag har lämnat det här för fullständighetens skull. Leta rätt på <filename
>knotes</filename
> katalogen. Gå dit och skriv <command
>make <option
>clean</option
></command
>, ändra sedan CXXFLAGS i dess <filename
>Makefile</filename
>. Raden med CXXFLAGS har <option
>-O2</option
>, ändra den till <option
>-g</option
>. Gör sedan <command
>make</command
> och <command
>make <option
>install</option
></command
>. Orsaken till detta är att jag märkte att &knotes; kraschade några få minuter efter det startat, men när jag kompilerade om det med <option
>-g</option
> (<abbrev
>dvs.</abbrev
> avlusningsstöd) istället för <option
>-O2</option
> (optimering) körde det bra. Räkna ut det :-). </para
> </step
> </procedure>
<para
>Och det är allt. Du bör nu kunna köra &kde;.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Ska jag ta bort den gamla versionen xyz innan jag installerar en ny?</para>
</question>
<answer>
<para
>I princip behövs det inte. <acronym
>RPM</acronym
>- och Debianpaket bör ta hand om alla beroenden.</para>
<para
>Om du kompilerar källkoden själv, bör du se upp så att du inte kompilerar olika versioner av &kde;-paketen. Så om du installerar en ny version, bygg och installera först kdesupport, sedan kdelibs och sedan kdebase.</para>
<para
>En sak som du bör undvika: att installera två eller flera versioner av &kde; parallellt. Det här kan inträffa om du anger en annan målkatalog för en version än för den andra. Resultatet är svårt att förutsäga. Samma sak gäller om du har olika versioner av &Qt; installerade samtidigt. Det här inträffar lätt om du redan har en gammal &Qt;-version installerad med en &Linux;-distribution.</para>
<!--create a new entry called "how to make KDE 1.x coexist with KDE 2"
and link it from here-->
</answer>
</qandaentry>

<qandaentry>
<question id="startkde">
<para
>Hur startar jag &kde;?</para>
</question>
<answer>
<para
>Det bekvämaste sättet att starta &kde; är att använda <filename
>startkde</filename
>-skriptet. Lägg helt enkelt raden <command
>startkde</command
> sist i din <filename
>.xsession</filename
>-fil (eller din <filename
>.xinitrc</filename
>- eller <filename
>.Xclients</filename
>-fil om du inte använder &kdm; eller <application
>xdm</application
>). Var god ta bort raderna som startade din tidigare fönsterhanterare. Om det inte finns någon <filename
>.xsession</filename
>, <filename
>.xinitrc</filename
>, eller <filename
>.Xclients</filename
> i din hemkatalog, skapa helt enkelt en ny som bara innehåller en rad som lyder <command
>startkde</command
>.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>När jag än startar &kde;, klagar det på "shadow passwords". Varför?</para>
</question>
<answer>
<para
>När ditt system använder skugglösenord, kan skärmsläckaren bara köra på ett riktigt sätt om suid-biten är satt. Den här biten ger skärmsläckare root-rättigheter, som behövs för att kunna komma åt skugglösenorden. <caution
><para
>Skärmsläckarna kan anpassas att säkra maskinen till lösenordet skrivs in.</para
></caution
></para>
<procedure
> <title
>Att sätta suid-biten för skärmsläckarna.</title
> <step performance="required"
><para
>bli root</para
></step
> <step performance="required"
><para
><command
>chown root $<envar
>KDEDIR</envar
>/bin/*.kss</command
></para
></step
> <step performance="required"
><para
><command
>chmod u+s $<envar
>KDEDIR</envar
>/bin/*.kss</command
></para
></step
> </procedure>
<para
>Som ett alternativ kan du använda <command
>./configure <option
>--with-shadow</option
></command
> för att konfigurera kdebase om du kompilerar  &kde; från källkod. Då sätts suid-biten automatiskt av <command
>make install</command
>.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Är det möjligt att installera &kde; i en användarkatalog?</para>
</question>
<answer>
<para
>Ja, du kan installera &kde; i vilken katalog du vill. Vad du måste göra beror på vilken sorts paket du vill installera:</para>
<procedure
><title
>Källkodspaket</title
> <step performance="required"
><para
>Konfigurera och installera paketet med <command
>configure <option
>--prefix=<replaceable
>/users/mitthem/kde</replaceable
></option
>; make; make install</command
> för att installera i <filename class="directory"
>/users/mitthem/kde</filename
>.</para
></step
> <step performance="required"
><para
>Lägg till det följande i dina initieringsfiler. Observera att om det inte är nödvändigt för dig att sätta <envar
>LD_LIBRARY_PATH</envar
>, är det bättre att utelämna det.</para
> <para
>För csh eller tcsh:</para
> <programlisting>
setenv KDEDIR /users/mitthem/kde

if ( $?LD_LIBRARY_PATH ) then
   setenv LD_LIBRARY_PATH $KDEDIR/lib:$LD_LIBRARY_PATH
else
   setenv LD_LIBRARY_PATH $KDEDIR/lib
endif

if ( ! $?LIBRARY_PATH ) then
   setenv LIBRARY_PATH $LD_LIBRARY_PATH
endif  
</programlisting
> <para
>För <application
>bash</application
>:</para
> <programlisting>
KDEDIR=/users/mitthem/kde
PATH=$KDEDIR/bin:$PATH
LD_LIBRARY_PATH=$KDEDIR/lib:$LD_LIBRARY_PATH
LIBRARY_PATH=$LD_LIBRARY_PATH
export KDEDIR PATH LD_LIBRARY_PATH LIBRARY_PATH
</programlisting
></step
> </procedure>
<procedure
><title
><acronym
>RPM</acronym
>-paket</title
> <step performance="required"
><para
>Kommandot <command
>rpm</command
> låter dig använda alternativet <option
>--prefix</option
> för att välja installationskatalog. Genom att till exempel köra kommandot <command
>rpm <option
>-i --prefix=<replaceable
>/users/mitthem/kde paket.rpm</replaceable
></option
></command
> installeras paketet i <filename class="directory"
>/users/mitthem/kde</filename
>.</para
></step
> </procedure>
<para
><note
> <para
>Även om &kde; kan köra från en användarkatalog, så finns det vissa problem med program som kräver "suid root", <abbrev
>t.ex.</abbrev
> programmen i kdeadmin-paketet. Men eftersom de ändå inte är avsedda att köras av användare, är detta ingenting att oroa sig över.</para
> <para
>Skärmsläckarna måste dock vara "suid root" på system med skugglösenord för att aktivera åtkomst med lösenord för att låsa upp skärmen, så den här funktionen kommer inte att fungera.</para
> </note
></para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
><command
>startkde</command
> ger felmeddelandet <errorname
>can not connect to X server</errorname
>. Vad är fel?</para>
</question>
<answer>
<para
>Du försökte förmodligen starta X-servern med <command
>startkde</command
>. X-servern startas med <command
>startx</command
>. <command
>startkde</command
> är skriptet som ska köras från din <filename
>.xinitrc</filename
>, <filename
>.xsession</filename
>, eller <filename
>.Xclients</filename
> för att starta fönsterhanteraren och de nödvändiga serverdemonerna för &kde;. Se också <xref linkend="startkde"/>.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Installation av Debianpaket med with <command
>dpkg</command
> säger <errorname
>giflib2 is missing</errorname
></para>
</question>
<answer>
<para
>Ibland när &kde;:s Debianpaket installeras, klagar <command
>dpkg</command
> med <errorname
>dependency problems: giflib2 is missing</errorname
>. Eftersom giflib2 inte behövs, är lösningen enkel: <command
>dpkg <option
>-i --ignore-depends=giflib2 <replaceable
>package.deb</replaceable
></option
></command
> </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>&kde; på &AIX;?</para>
</question>
<answer>
<para
>Om du har problem med att bygga &kde; på &AIX; ta en titt på Stefan Westerfelds sida <ulink url="http://space.twc.de/~stefan/kde/aix.html"
>Köra &kde; på Aix</ulink
> för mycket hjälp med att bygga &kde; på den här enastående &UNIX;-versionen.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Installation av &RedHat;-paket säger <errorname
>libncurses.so.3.0 is needed</errorname
></para>
</question>
<answer>
<para
>Om det inte finns en RPM för det på din &RedHat; &CD-ROM;, leta omkring på &RedHat; &FTP;-plats och dess spegelservrar för att hämta den. Kom ihåg att libncurses-3 och -4 kan finnas samtidigt så det finns ingen anledning att ersätta den ena med den andra, <abbrev
>dvs.</abbrev
> ett enkelt <command
>rpm -i</command
> kommando räcker.</para>
<para
>Eller du kan försöka med det följande (som root):</para>
<procedure
> <step performance="required"
><para
><command
>cd /usr/lib</command
></para
></step
> <step performance="required"
><para
><command
>ln <option
>-s libncurses.so.4 libncurses.so.3</option
></command
></para
></step
> <step performance="required"
><para
><command
>ldconfig</command
></para
></step
> </procedure>
<para
>Eftersom libncurses-3 och -4 är 100% kompatibla både binärt och källkodsmässigt, slösas bara utrymme med att installera båda.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>&kde; på en bärbar dator?</para>
</question>
<answer>
<para
>Om du kan få &X-Windows; att köra, så bör du inte ha några problem med att få &kde; att köra på den. Dessutom kanske följande länkar kan vara till hjälp:</para>
<itemizedlist
> <listitem
> <para
><ulink url="http://www.cs.utexas.edu/users/kharker/linux-laptop/"
>http://www.cs.utexas.edu/users/kharker/linux-laptop/</ulink
></para
> </listitem
> <listitem
> <para
><ulink url="http://www.yy.cs.keio.ac.jp/~sanpei/how2800x600.html"
>http://www.yy.cs.keio.ac.jp/~sanpei/how2800x600.html</ulink
></para
> </listitem
> </itemizedlist>
<para
>För bärbara datorer med exotiska upplösningar som 1024x600, kan du försöka redigera filen <filename
>XF86Config</filename
> (i <filename class="directory"
>/etc/X11</filename
> om du använder &RedHat;). Om du har någon erfarenhet av den här filen, vet du att det finns flera olika "Modeline"-rader i den. Du behöver bara lägga till en Modeline för din upplösning. Tyvärr är formatet på Modeline rader ganska svårbegripligt; <abbrev
>dvs.</abbrev
> du måste läsa en hel del. En källa med information kan vara <ulink url="http://sunsite.unc.edu/LDP/HOWTO/XFree86-Video-Timings-HOWTO.html"
>XFree86 Video Timings HOWTO</ulink
>.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Jag tycker inte om den förvalda &kde;-katalogen efter installationen. Hur flyttar jag den utan att ta sönder något?</para>
</question>
<answer>
<para
>Antag att den förvalda katalogen är <filename class="directory"
>/opt/kde</filename
> och du vill flytta den till  <filename class="directory"
>/usr/local/kde</filename
>. Då måste du göra så här:</para>
<procedure
> <step performance="required"
><para
>bli systemadministratör om du inte redan är det</para
></step
> <step performance="required"
><para
><command
>mv /opt/kde /usr/local/kde</command
></para
></step
> <step performance="required"
><para
><command
>ln -s /usr/local/kde /opt/kde</command
></para
></step
> </procedure>
<para
>Det här lägger alla dina &kde;-filer i <filename class="directory"
>/usr/local/kde</filename
> men allt är fortfarande tillgängligt från <filename class="directory"
>/opt/kde</filename
>.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Var har konfigurationsskripten i nerladdade versioner tagit vägen?</para>
</question>
<answer>
<para
>Kanske har det här redan korrigerats, men om det inte har det, så är lösningen det här: <command
>make <option
>-f admin/Makefile.common cvs</option
></command
></para>
</answer>
</qandaentry>

<qandaentry>
<question id="bzip2">
<para
>Hur packar jag upp arkiv med filändelsen bz2?</para>
</question>
<answer>
<para
>Först och främst behöver du bzip2-paketet. Hämta det från din favorit &FTP;-plats om du inte redan har det. Sedan, för att titta på innehållet, gör helt enkelt så här: <command
>bzip2 -cd <replaceable
>files.tar.bz2</replaceable
> | tar tvf -</command
>. För att packa upp, gör så här istället: <command
>bzip2 -cd <replaceable
>files.tar.bz2</replaceable
> | tar xvf -</command
>. Du kan förstås kanske använda något som liknar <command
>tar --use-compress-program bzip2 -xvf <replaceable
>files.tar.bz2</replaceable
></command
> om ditt <application
>tar</application
>-program stöder det. Se <command
>man tar</command
> och <command
>man bzip2</command
> för ytterligare information. Du kanske också vill läsa "Bzip2 mini-HOWTO". Förresten, hemsidan för bzip2 finns på <ulink url="http://sources.redhat.com/bzip2/index.html"
>http://sources.redhat.com/bzip2/index.html</ulink
>.</para>
<!--add a link to Bzip2 mini-HOWTO-->
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Vilka filer kan jag ta bort från min installationskatalog för &kde;? Kan alla <filename
>*.h</filename
>-, <filename
>*.c</filename
>- och <filename
>*.o</filename
>-filer tas bort utan problem?</para>
</question>
<answer>
<para
>Det bör inte finnas någon anledning att behålla <filename
>.c</filename
>- och <filename
>.o</filename
>-filer, men du kanske vill behålla <filename
>.h</filename
>-filerna, eftersom de används om du någonsin vill kompilera dina egna &kde; program. Men om du vill lägga till programfixar till källkoden när de blir tillgängliga (istället för att ladda hem allt igen), måste de vara kvar.</para
> 
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Förlorar jag mina nuvarande inställningar när jag uppgraderar &kde;?</para>
</question>
<answer>
<para
>Det finns blandade rapporter om resultat efter uppgradering från&kde; 1.x till &kde; 2.0. Inställningarna finns i <filename class="directory"
>.kde</filename
> underkatalogen i din hemkatalog. Det har varit många ändringar i inställningarna både globalt och inne i varje program. För det bästa resultatet föreslår vi att du säkerhetskopierar din gamla  <filename class="directory"
>.kde</filename
>-katalog. installerar &kde; 2.0, och sedan kopierartillbaka nödvändiga e-post och diskussionsgruppsinställningar. De flesta andra inställningar är så annorlunda att det är bäst att anpassa dem direkt i &kde; 2.0. Trots allt finns det rapporter om direkta uppgraderingar utan att ta bort den gamla <filename class="directory"
>.kde</filename
>-katalogen som gått utan något problem. Du kan få olika resultat.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>När jag kompilerar kdebase får jag felmeddelandet <errorname
>bin/sh: msgfmt: command not found</errorname
>!</para>
</question>
<answer>
<para
>Du behöver <acronym
>GNU</acronym
>-programmet <application
>msgfmt</application
> som är en del av <acronym
>GNU</acronym
>:s i18n-paket <application
>gettext</application
>. Du bör kunna ladda hem det från vilken vettig <acronym
>GNU</acronym
>-spegelserver som helst.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Hur avinstallerar jag &kde;-program som kompilerats från början?</para>
</question>
<answer>
<para
>Du kan avinstallera dina program genom att skriva <command
>make uninstall</command
> i katalogen där du gjorde <command
>make install</command
>. Om du redan har slängt bort den katalogen, så finns det bara ett sätt, och det är inte bra: gå till <filename class="directory"
>$<envar
>KDEDIR</envar
>/bin</filename
> och  börja ta bort filer en efter en.</para>
</answer>
</qandaentry>

<qandaentry>
<question id="gif">
<para
>Vad gäller för &GIF;-stöd?</para>
</question>
<answer>
<para
>Det här har något att göra med Unisys &LZW;-patent. &GIF;-stöd är avstängt från &Qt; 1.44 och senare som standard. Använd antingen en äldre &Qt; (om du fortfarande kör &kde; 1.x), eller kompilera det med &GIF;-stöd aktiverat med <command
>./configure <option
>-gif</option
></command
>.</para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Hur installerar jag &kde;-teman?</para>
</question>
<answer>
<para
>Det finns ingen temahanterare i &kde; 2 ännu. Var god se <ulink url="http://kde.themes.org/php/comments.phtml?forum=news.26.34"
>http://kde.themes.org/php/comments.phtml?forum=news.26.34</ulink
> istället.</para>
</answer>
</qandaentry>
</qandaset>
</chapter>

